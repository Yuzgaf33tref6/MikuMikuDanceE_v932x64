
　
【ray-mmd 1.5.2 用　初心者マテリアル】

　ご利用ありがとうございます。

　2018.3.11
　製作者：更科
　By SARASHINA


　～～～【最速】～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～

 ray-mmd 1.5.2 は 1.5.1 のバグ修正版で色や質感はほとんど変わらないので、すでに1.5.1で動画静画を制作されている場合
 そのままこのキットをお使いになれます。ただし何からの不具合があるかもしれないことをご理解の上お使い下さい。


　ごちゃごちゃした説明はいらんから最速で使いたいという方のためにまずは今までの 1.4.1 beta v3 用との変更点から。

【名称変更】

　material_eye_pupil_ex.fx　→　material_eye_hilight.fx
　　瞳の輝点（ハイライト）につきまして、完全にマテリアル名を変えましたので今後は「ハイライト」でお願いします。

　material_luminus2.fx　→　material_lumi_notex.fx
　　テクチャの無い材質（Tex欄が空欄で反射色などで色が指定されている材質）を発光させるための
　　「luminus2」は今後「lumi_notex」でお願いします。

【追加】

　material_metal_lt.fx
　　メタル系に使用とするとどうしてもテクスチャの色味が大きく変わってしまいます。
　　このメタルライトはそこまでメタルメタルしくしなくていいから、色合いを変えたくない場合には便利です。

【内容一新】

　KirisuVinyl
　　霧洲式のビニール材質は内容を一新しましたのでこれまでのものとは全く互換性がありません。


　～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～

　では本文です。

【はじめに】

　この初心者マテリアルは ray-mmd 1.5.2【専用】 です。

　1.5.1 ではそのまま使用できます。
　1.5.0 では使用できません。色合いが全然違いますのでご注意下さい。1.5.0 に対応する初心者マテリアルは存在しません。
　また ray-mmd 1.4.0 beta v3 以前 につきましては、それぞれに対応する初心者マテリアルをお使い下さい。



【以下の日本語の説明を翻訳など利用しても理解できない方はご使用にならないで下さい】

　★自己責任でお使い下さい。当ファイルを使用したことによるいかなる不利益に対しても保障いたしません★
　★細かい解説やサポート等一切対応できませんので、技術的な理解ができる方のみお使い下さい★
　　すでにray-mmdのマテリアルを自己調整して使い込んでいらっしゃる方には薄味な内容だと思います。
　　一部にパラメータの論理値をはみ出して使用しているところなどがありますが、画面上で効果が出ていれば採用するというシロウト仕様です。
　　シェーダーやUE4、3Dソフトに造詣の深い方から見ると滑稽な部分もあるかと思いますがどうか生温かく放置して下さい。
　★ただのシェーダ用マテリアルですから、R18やグロ等の制約はありませんが、ご利用上のトラブルについては一切責任を取りませんので
　　完全に利用者の自己責任でお使い下さい。

　　I'll bear absolutely no responsibility for any fatal accidents or damage to property that occur to use this data.
　　Don't redistribute the data of this model without modification.
　　There is no problem with modifing this data in personal use.

　　このデータは下記制限内で動画・静画等に自由に使用して下さい。
　　下記制限内であれば、使用に際しての製作者表記も必要ありません。（表記していただければ嬉しいです）

　　個人使用での改造・数値取り可です。
　　個人使用ならばMMD以外（ゲームエンジン等へのコンバート）での使用も可能です。

　【制限事項】
　　★IJIRO等不特定に無責任に拡散する可能性のあるコンテンツでの使用禁止
　　★このデータを含めた状態での販売物の販売禁止
　　★許可無くそのままの形で再配布するのはおやめください。
　　★このアクセサリーモデルを組み込んだモデルを配布する場合もご相談下さい。
　　　同人作品についての補足
　　　・このデータを使用して製作した動画・静画を頒布→可です。（モデルや楽曲、モーション等の規約に従って下さい）
　　　　（事前の連絡も対価も不要です）
　　　・このデータを組み込んだ販売物を頒布→ご相談下さい。

【連絡先】

　更科　@sarashinuz（Twitter）　または　sarashin@sarashin.com（メール）

　★このマテリアルのことでray-mmd製作者のrui氏や、使用モデルの製作者様に問い合わせをしないで下さい。




【使い方】

・インストール

【初めてお使いの方】

　お使いのray-mmdの「Materials」フォルダ内に当「初心者」フォルダを【フォルダごと】移して下さい。
　ray-mmdのセットの中に存在する「Editor」フォルダや「_MaterialMap」フォルダ等を参照していますので
　フォルダの階層を変えたり、名称を変えたりしないで下さい。
　必要があって変える場合は当マテリアルファイルの中身を書き換えてお使い下さい。

　使用開始する前は当「初心者」フォルダ名はどんな名前にしてもOKです。
　モデルの材質に割り当てたあとでフォルダ名を変更するとマテリアルが行方不明となり、全部指定しなおしか、
　MMDのemmファイルを書き換えなければならなくなります。
　特に英語版MMDをご使用の方は日本語フォルダ名での不具合が報告されていますので、事前によくご検討下さい。

　「初心者」フォルダはまるごと複製してもそのフォルダ内で機能するので、モデルごとに分けるなどして
　お使いになることもできます。（詳細は後述）


【追加で導入される方】

　現在お使いの「初心者」フォルダをフォルダごと確実にバックアップをお取り下さい。
　互換性がないので置き換えて使用できるものはほとんどありませんが、数値を参照することができます。
　（数値そのまま移行は不能）



・適用

　お使いのモデルをサブセット展開し、MaterialMapタブで髪の毛、目玉、布地、光沢系などに各fxファイルを
　割り当てて下さい。もちろん流用も可能です（それっぽい服に髪用とか、髪にエナメルとか）



・pmxコントローラー

　★基本的には「初心者マテリアル」は調整不要でそれっぽい質感になる簡便さを目指してますので、微調整を考える必要はありません★
　なので、初期値の質感で満足された方はそのままご利用下さい。
　しかし、もうちょっと粗くしたい、スムースにしたい、光らせたい、光沢をつけたい、などの要求が出た場合は
　コントローラーを追加して微調整することができます。

　各マテリアルに対応したコントローラーを読み込めば、その材質だけ微調整できます。
　すべてのコントローラーを予め読み込む必要はなく、調整したいものだけ読み込んで下さい。

　読み込むと最初は背景がおかしくなりますので、必ずモデルより描画順（できれば計算順も）が上に
　なるように調整して下さい。

　あとはスライダーーーヽ(ﾟ∀ﾟ)ｑｷﾞｭﾝ!

　スライダーとは逆方向に調整したい場合はマイナスの値も使えますので、手入力でマイナスの値をスライダーの上
　のボックスに入れてみて下さい。
　値の目安はまず「-1」や「-0.1」を入れてみてその変化を見て微調整して下さい。この場合はスライダーは使用できません。
　（数値が戻ります）



・複数使用について

　同じマテリアルを同一モデルの複数部分、あるいは何体かのモデルにそれぞれ使用した場合、全て同じコントローラーの影響を受けます。

　たとえば、ベルトとブーツにnurunuru.fxを使い、ベルトだけ光沢を上げようと調整しても、ブーツも同じに変化します。

　★同種マテリアルの複製については後述します★



・特殊なもの

　髪の毛は垂直（標準）、水平、クロス、３種全て最初から同一のコントローラーで調整する仕様です。
　分けることもできます。（後述）

　黒髪用も同様です。
　黒髪用は普通髪用よりもメラニン値が強く出るように調整してあります。



【ファイルの用途】

　★ 1.5.2での注意 ★
　　CustomA、Bの数値とも、材質に影響を与えにくくなっています。
　　理屈通りに操作されるよう作りましたが、調整してもあまり目立った効果は出ません。
　　特にSSSなどは、1.4以前では顔を赤らめるほど皮下の赤が調整できましたが、1.5以降は変化が微妙すぎます。
　　赤らめなどはEmissiveRなどで代用するようにしてください。

　[ノーマルマップ（法線マップ）について]
　ray-mmdのマテリアルは法線マップを２重に持てる構造になっており、一部マテリアルを除いて１つしか使っていませんでした。
　当マテリアルでは、もう１つ空いている法線マップをモデルのpmxファイルのスフィア項目から読み取るように指定したので、
　モデルに法線マップを組み込んでおけば自動で適用されます。
　ご利用にあたって注意がいくつかあります。
　・モデルの材質でスフィアファイルが指定されているものも法線マップとして読んでしまうことがあるようなので、
　　法線マップを使わない材質では必ず「無効」にしておいて下さい。（ファイル名は残しても大丈夫です）
　・もし法線マップを指定していないのにMMD上で一部ギラつくザラつくなどが出た場合はPMXEでその材質のスフィアが
　　「無効」になっているかを確認して下さい。
　・当マテリアルのモデル内蔵型法線マップの利用法は、服の縁や装具の凹凸などを記録した法線マップの使用を想定しています
　　ので、ループ回数は初期値で１です。もし布地にさらに別な目地を加えるなど、パターン系のものを適用する場合は
　　コントローラでループ回数を増やして下さい。足りない場合はお手数ですがコードを直接改造して下さい。
　★Skin、Face系は不具合が出たため、初期では内臓ノーマルマップの深さは０で、効果が見えないようになっています。
　　網タイツなどの肌の凹凸のノーマルマップを使う方はpmxコントローラーで調整して下さい。



【各ファイル】

 　material_cloth_normal　  布地
 　material_cloth_rough　　 荒い布地
 　material_cloth_shine　　 細かくテカる布地
　　　　　　　　　　　　　  布は３種類とも同じ法線マップから生成され、それの粗い細かいだけの差です。
　　　　　　　　　　　　　  マップの彫りの深さば各材質で微妙に変えてあります。

 　material_eye_pupil　　　 目玉の瞳専用（初期値で軽い発光を含みます）
 　material_eye_pupil_dark  瞳の中の瞳孔など暗い材質用
 　material_eye_hilight 　  瞳に載っている輝点などの明るい材質用（初期値で強めの発光を含みます） 
 　material_eye_white　　　 目玉の白目専用（初期値で軽い発光を含みます）
　 　　　　　　　　　　　　 モデルが目の材質を１つしか持たない場合は、whiteのみでそれなりの質感にはなります

 　material_face_bg　　　　 material_skin_bgと全く同じものですが、顔と体で色味やキメの細かさを変えたり、
　　　　　　　　　　　　　　赤面させたりする場合は別なマテリアルの方が便利なので分けました。
　　　　　　　　　　　　　　分ける必要が無ければ、skinやfaceどちらかに統一しても大丈夫です。

   material_glass_bg　　　  透明材質マテリアルです。計算の限界のためか、２重３重に掛けると表現の限界が出ます。
　　　　　　　　　　　　　  「とりあえず透ければ表現の幅が広がるぜ」程度でお使い下さい。
　　　　　　　　　　　　　　例えば自動車モデルの窓に適用し、車内は覗けると思いますが反対の窓を通したその向こう
　　　　　　　　　　　　　　まで適切に表現できるかはわかりません。
　　　　　　　　　　　　　　また、モデルの持つ材質のPMXE上での透過度の設定と、テクスチャの塗りの濃さも影響します
　　　　　　　　　　　　　　ので透過調整は沼です。ご注意下さい。
　　　　　　　　　　　　　　案外モデルの透過度だけで充分という場合もザラです。
   material_glass_mt_bg　　 上記の表面反射率を上げた版です。透明なのにメタリックな感じになります。

 　material_hair　　　　　　髪の毛
 　material_hair_h　　　　　髪の毛（水平版）
 　material_hair_cross　　　髪の毛（クロス版）

 　material_hairdark　　　　髪の毛 黒髪用　「黒髪用」は上記「髪」のメラニン値が少し濃い目なだけであとは同じです。
 　material_hairdark_h　　　髪の毛 黒髪用（水平版）
 　material_hairdark_cross　髪の毛 黒髪用（クロス版）

 　material_hair_an　　　　 アニソトロピックヘア
 　material_hair_an_h　　　 アニソトロピックヘア（水平版）
 　material_hair_an_cross　 アニソトロピックヘア（クロス版）

   material_ingot　　　　　 下記metalの逆で、テクスチャの色が反映されない金塊のような質感になります。
　　　　　　　　　　　　　　ray標準装備のMetallic系質感と同じですが、色を自在に変えられます。
　　　　　　　　　　　　　　Albedoの　H：色合い　S：色の濃さ　V：明暗　で色を決定して下さい。
　　　　　　　　　　　　　　Metalnessを強くすると金属のギラギラがきつくなり、
　　　　　　　　　　　　　　Smoothnessでテカリを調整できます。
　　　　　　　　　　　　　　実際には金と銀くらいしか出番がないので、下記にプリセット金銀を用意しました。

   material_ingot_gold　　　金ピカと金マットです。コントローラーはmaterial_ingot_gold.pmxで共通です。
   material_ingot_gold_smooth

   material_ingot_silver　　銀ピカと銀マットです。コントローラーはmaterial_ingot_silver.pmxで共通です。
   material_ingot_silver_smooth
　　　　　　　　　　　　　　★いずれもSmoothnessやMetalnessは上限近くまで上げてありますので僅かしか効きません。

 　material_luminus　　　　　発光　材質で指定された色で発光しします
　　　　　　　　　　　　　　　　こちらはTexにテクスチャファイルが指定されている模様などを纏った材質用です。
 　material_lumi_notex　　　 発光　材質で指定された色で発光します。
　　　　　　　　　　　　　　　　こちらはTexにテクスチャファイルが指定されていいない、単色の材質用です。

   material_metal　　　　　 ray標準のメタリックだとテクスチャの色が飛ぶので困ってる人用。
   material_metal_rough　　 上記のラフ版。
　　　　　　　　　　　　　　計算が競合するためか、Albedoは効きません。色をつけたい場合はEmissiveをお使い下さい。
　　　　　　　　　　　　　　CustomAで反射角を調整できます。
 　material_metal_lt        さらに下地色優先でメタル感はライトで良いもの用。


 　material_nurunuru　　　　クリアコート系。CustomA値がSSSに対応、Custom2RGBで色設定できます。

 　material_nuruteka　　　　エナメル系強めの光沢　CustomA値がSSSに対応、Custom2RGBで色設定できます。


 　material_skin_bg　　　　 肌　初心者用です。標準装備のSkinと区別するためBeginnerの「bg」を付けてあります。
 　　　　　　　　　　　　　 調節次第で下記ぬるてか肌になります。というより下記ぬるてか肌はこの肌に初期値を
 　　　　　　　　　　　　　 ぬるてかになるように付与したものです。（スライダーの幅は若干違います）
　　　　　　　　　　　　　　この1.5.2用では軽く赤く発光しています。発光が悪影響を与える場合は調整して下さい。


 　material_skin_nuru　　　 肌　ぬるてか肌です。最初からぬるてかですがやや大人しめです。
 　　　　　　　　　　　　　 スライダーでお好きに加工して下さい。
 　　　　　　　　　　　　　 ヌルテカ強化のメインは「Smoothness」と「normalSubMapScale＋」と「Metalness」です。
 　　　　　　　　　　　　　 「Melanin」を強くすると上記効果が出やすくなります。
 　　　　　　　　　　　　　 「Emissive」にも対応していますので光らせることも出来ます。初期値では微量に赤で
 　　　　　　　　　　　　　  発光していますので「Intensity」で輝度を調整して下さい。


【おまけ】


   material_swimsuits　　　 水着専用マテリアルだが青色競泳系しか考えてない変態仕様。SSS反射色は青。
　　　　　　　　　　　　　　ノーマルマップを目地だけで２つ使ってるので水着の形の法線マップは使えません。

   material_swimsuits_NM　　水着のふちや模様をノーマルマップでクッキリさせたい変態用。上記通常版で組み込んでる
　　　　　　　　　　　　　　ノイズ法線を犠牲にしています。

   material_nipple　　　　　ちくび専用。



 [霧洲Vinylフォルダ]

　霧洲キリ氏特別提供のヴィニールマテリアルです。

　　material_vinyl.fx　　　　　 透明ビニール質感マテリアルです。初期値入りですので、通常これをご使用下さい。
　　material_vinyl.pmx　　　　　上記ビニールの質感を調整する時使います。モーフ左上に特殊なスライダーがあります。

　　material_vinyl_zero.fx　　　初期値なしなのでこれを適用するとただの素通しとなります。（調整マニア向け）
　　　　　　　　　　　　　　　　下記 pmxファイルでの調整が必須となります。
　　material_vinyl_zero.pmx　　 スライダーpmxファイルです。モーフ左上に特殊なスライダーがあります。

　　material_vinyl.fxsub　　　　サブファイルです。開けてはいけません。へたにいじると壊れるので注意して下さい。
　　material_vinyl_editor.fxsub サブファイルです。開けてはいけません。へたにいじると壊れるので注意して下さい。

　　★ガラス同様、透明材質の宿命で、２重３重に掛けた場合の整合性は保証できません★




【フォルダの複製】

　各モデルによって質感のセットアップを変えたい場合は、初心者用フォルダをまるごと複製し、フォルダ名をモデル名に
　するなどしてお使い下さい。ただし、MMD内でのコントローラーの名称は同一マテリアルについては同じですので
　混同に注意して下さい。

　モデルごとに分けるほど多数でなかったり、同一モデルで複数似たような質感にしたい場合は下記マテリアルの複製を
　ごらん下さい。



【マテリアルの複製】

★注意★

　以下の操作は事前にバックアップをとっておくことをお勧めします。
　メモ帳を使う場合「右端で折り返す」は切っておかないと保存時にトラブルになる可能性があります。
　また他に正確に文字列を操作できるエディタをお持ちの方はそちらの使用をお勧めします。
　Mac環境では特にC言語用などのエディターを使うことをお勧めします。
　WORDなど、勝手に改ページなどを挿入する可能性のあるエディターは避けたほうがいいです。


　似たマテリアルが複数欲しい場合「～～～.fx」ファイルを複製すれば、別々な材質に適応できます。

（例）　「material_nurunuru.fx」→コピーペーストして、「material_nurunuru.fx　のコピー」を作り、
　　　　「material_nurunuru2.fx」に名前変更。

　しかしただ複製しただけでは、同じコントローラー「material_nurunuru.pmx」の影響を同時に受けます。
　（それでかまわない場合はそのままお使い下さい）

　そこで次にコントローラを複製します。

　（例）と同じようにして「material_nurunuru.pmx」から「material_nurunuru2.pmx」を作ります。

　次にPMXE、またはPMDEで「material_nurunuru2.pmx」を開き、【情報】タブ欄でモデル名を「nurunuru2」にします。
　こうしておかないとMMDに読み込んだ場合に元のnurrnuruと区別がつかなくなります。必要があれば別の名前や日本語名でもOKです。

　他の部分は一切いじらないようにして、そのまま上書き保存します。


　次にメモ帳で「material_nurunuru2.fx」を開いて下さい。

　開くと冒頭に、

　#define CONTROLLER_NAME "material_nurunuru.pmx"

　という一行がありますので、

　#define CONTROLLER_NAME "material_nurunuru2.pmx"

　と書き換えます。半角文字ですので注意して下さい。

　これも他の部分に触れずに上書き保存します。


　これで「material_nurunuru.fx」と「material_nurunuru2.fx」は「material_nurunuru.pmx」と「material_nurunuru2.pmx」により
　それぞれ独立して操作できるようになります。

　同様にしてもっと増やすこともできますし、理屈がわかれば自分で名前をつけて管理しやすくすることもできます。

　髪の毛の質を縦横クロスで別々にしたい場合は、それぞれのpmxコントローラーを作って名前を指定すればOKです。




【質感調整のヒント】

・モーフ左上

　Albedoは反射光の色や強さを「HSV」の色形式（三角の周囲を円が囲ってるアレ）で指定。
　Vが効いてないとHもSも効かないので、まずVとSをいじってからHで色合いを調整。
　Loopsはノーマルマップ（法線マップ）が指定されていないものについては無効。

　Specularも色は同様。Loopも無効。Vが特に関係ある。

　Emissiveは自己発光です。
　RGBで発光色を指定します。
　EmissiveIntesity（発光強度）を調整する前に色を指定して下さい。
　デフォルトでRGBがゼロになってるのでそのままでは光りません。
　Loopは無効です。


・モーフ左下

　1.5.2ではあまり効きません。
　Customは各マテリアルによって意味が全く違います。
　たとえば皮膚系だと、SSSつまり皮下拡散の色と拡散度合いを指定します。
　CustomAが拡散度でCustomB（Custom2RGB）が皮下色の指定となります。
　当マテリアルでは肌、髪の毛や水着などでSSSが使用できるようにしてあります。
　発光マテリアルのコントローラーではこのモーフは切ってあります。


・モーフ右上

　NormalScaleはノーマルマップの彫り具合の強弱を調整します。
　当マテリアルのうち、布や髪の毛、水着、ちくびなどでは大変重要な調整項目です。
　値を大きくすれば彫りが深くなり、色も暗くなります。
　デフォルトで彫りの値が入れてありますので、少しマイナスに振るとノッペリします。
　マイナスに大きく振ると凹凸が逆になります。
　NormalLoopsも重要です。
　法線マップが何周するかの指定で、当マテリアルでは粗い布の法線マップを用意し、
　それを何周もさせる形で細かい目地を実現し、その回数の程度で粗さを調整しています。
　当マテリアルでは、普通の布、粗い布、細かい布と用意しておりますが、極論言えばマップの周回回数の差だけです。
　そこへ反射率や光沢度で少し味付けをしています。
　周回回数が増えれば当然細かくなります。どうしても微妙に調節範囲から外れる場合は、
　数値を手入力（－１とか、３とか）してみて下さい。

　eye系のマテリアルは凸レンズのような法線マップが適用されています。NormalScale調整で平らにもできますし、
　地面が白目に映りこんで妙な感じになるときはLoopsを増やして下さい。理論上昆虫の複眼のようになりますが、
　適度な反射と映り込みで良好になる場合があります。

　SUB系の数値は多くのマテリアルで無効です。
　＊2017.05.06改変　肌系、水着とちくびはノーマルマップを２重にしました。SUBのスライダーで質感の変化を楽しめます。


・モーフ右下

　Smoothnessは文字通りですが上げすぎても変化しなくなる上限があります。また他の項目とも関連していますので、
　上げてもあまり効果ない場合は、メラニンやノーマルマップのスケールなどを調整してから再度いじってみて下さい。
　Loop関係ありません。

　Metalnessは大変わかりやすく、ビカビカのギラギラに仕上がります。
　ただ、色が失われるので使いずぎると滅茶苦茶になります。ほんのちょっと加えるといいです。
　Loop関係ありません。

　Melaninは黒色系がより黒くなる使い方で、明るいものには効果ありません。
　Smooth効かせてボウッと白っぽくなった時に引き締めたりできます。
　これもあまり効かせすぎないほうがいいです。
　Loop関係ありません。



　上記どの数値もコントローラー不要を前提に設定しておりますので、すでに下味がついてますから、
　控えめな調整がいいと思います。




　ご利用ありがとうございます。
　よきMMDライフを～～ヽ(ﾟ∀ﾟ)ノ



