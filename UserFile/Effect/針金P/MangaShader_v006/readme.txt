MangaShader.fx ver0.0.6
MangaShader_MMM.fxm ver0.0.6


モデルを漫画風の絵にするシェーダエフェクトです.


・使用方法
[MMD･MME版の場合]
(1)PMD･PMX,またはアクセサリにMangaShader.fxを適用してください。
    GUIの場合｢MMEffect｣→｢エフェクト割当｣のメインタブより適用したいオブジェクトにMangaShader.fxを割り当てる.
    ファイル名設定の場合：XXXXX.pmd から XXXXX[MangaShader.fx].pmd に変更，または MangaShader.fx を XXXXX.fx に変更してロード。
(2)必要に応じてMangaShader.fxの先頭パラメータを適宜変更してください。

[MikuMikuMoving版の場合]
(1)MangaShader_MMM.fxmをMMMにロードしてください。
(2)MMMメニューの｢ファイル｣→｢エフェクト割当｣より適用したいモデルを選択して、MangaShader_MMMを割り当てる.
(3)必要に応じてMangaShader_MMM.fxmの先頭パラメータを適宜変更してください。
(4)MMMのエフェクトプロパティに追加したUIコントロールよりパラメータ変更が可能です。


・補足
このfxファイルのシェーダ内処理は大雑把に言うと
モデル色をモノクロ変換→明度からベタ,濃いスクリーントーン,白に分ける→白をトーンシェードで白,薄いスクリーントーンに分ける
という処理を行っています。
モデルによってはデフォルト設定では適切にトーンがかからない場合もありますので、必要に応じて先頭パラメータを調整してください。
また、パラメータ変更だけで不十分な場合は以下のような対応策が考えられます。
  ①MangaShader.fxを別ファイル名でパラメータを変えた複数のfxファイルを用意して
    ｢MMEffect｣→｢エフェクト割当｣→｢編集｣→｢サブセット展開｣より個別材質ごとに異なるfxファイルを適用する。
    この方法だと材質ごとに異なるスクリーントーンを貼ることも可能。
  ②PMDEditorでシェーダ処理に合うようにモデルの材質を変更する。

また、このfxではエッジの独自描画を行っていて
  アクセサリ→半透明でない全材質に独自描画
  PMD･PMX→セルフシャドウONでMMD標準エッジ描画,セルフシャドウOFFでMMD標準エッジ描画+独自描画
という処理になっています。漫画風描画ではモデル材質でエッジOFF設定になっているところもエッジ描画した方が
それっぽくなるので,状況に応じてセルフシャドウON/OFFを切り替えてください。
エッジは太めに設定した方が雰囲気が出ると思います。


・更新履歴
v0.0.6  2013/07/02   MMEシェーダを新しいバージョン(v0.33以降)仕様にした(PMXの材質モーフ､サブTex等に対応)
                     MikuMikuMoving版の追加
                     本バージョンよりSM3.0以上対応のグラボが必須になりました
v0.0.5  2012/11/28   x64版でエラーになっていたので修正
v0.0.4  2012/09/10   x64版の対応,Zプロットを描画するように変更
v0.0.3  2012/03/12   トーン・ディザの異方性フィルタをなしに(スクリーン座標で貼るため必要ないので)
v0.0.2  2011/09/22   パラメータで色指定追加,薄いトーンのディザ処理追加,その他細かな修正
v0.0.1  2011/09/16   初回版公開


・免責事項
ご利用・改変・二次配布は自由にやっていただいてかまいません。連絡も不要です。
ただしこれらの行為は全て自己責任でやってください。
このプログラム使用により、いかなる損害が生じた場合でも当方は一切の責任を負いません。


by 針金P
Twitter : @HariganeP


