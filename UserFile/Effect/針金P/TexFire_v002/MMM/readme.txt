MikuMikuMoving対応版

TexFire_MMM.fxm v0.0.2

ビルボード＋テクスチャアニメを組み合わせたメラメラ感のある炎エフェクト。
炎アニメはFuria氏の｢2Dな炎エフェクトサンプル｣を参考に作成しました。


・動作環境
SM2.0対応グラフィックボードが必須になります。


・基本的な使用方法
(1)TexFire_MMM.fxmをMMMにロードしてください。
(2)描画順序はできるだけ後の方にしてください．
(3)必要に応じてTexFire_MMM.fxmの先頭パラメータを変更してください。
(5)MMMのエフェクトプロパティで以下の変更が可能です。
   XYZ：位置合わせ
   拡大    ：スケール変更
   アルファ：炎描画の透過度
   その他UIアノテーションよりパラメータ変更が可能です。
(5)適当なボーンに付けて動かすと、ボーンの動きによって炎の燃え方が変化します。
   先頭パラメータによっては、ボーン追従に弾力性を持たせて小刻みな動きには反応しない様にできます。


・調整済みエフェクトについて
｢ひとだまver｣、｢ロウソクver｣フォルダには、それぞれ人魂風、ロウソク風にパラメータ調整したエフェクト一式を同梱しています。
TexFire_MMM.fxmは先頭パラメータ以外は全て同じ物です。パラメータ調整の参考にどうぞ。


・モデルへの組み込みについて
このエフェクトは、Xファイルを編集することで１ファイルで複数の炎を任意の位置・大きさに配置設定することが出来ます。
自作のモデルに組み込む場合は以下の方法でXファイルを作成してください。
(1)(メタセコなどで)表示させたい炎の数だけ四角形の板ポリを生成します。
   座標位置は適当でかまいませんが、UV値は各板ポリとも0〜1に正しく設定されている必要があります。
(2)板ポリの数だけ材質を生成して、各板ポリごとに材質を一つずつ割り当てる。
(3)Xファイル形式で保存、ファイル名が ○○○.x ならTexFire_MMM.fxmをコピーして ○○○.fxm にリネーム。
(4)保存したXファイルをテキストエディタで以下の部分を書き換えます。
   表示させたい炎の数だけあるはずなので、それぞれ座標位置・スケール比に変更する。

  Material {
   0.800000;0.800000;0.800000;1.000000;;  → ここの前3つの数値を表示させたい位置のXYZ座標に変更
   5.000000;                              → ここを表示させたい炎のスケール比に変更
   0.000000;0.000000;0.000000;;
   0.000000;0.000000;0.000000;;
  }

(5)○○○.fxmをMMMにロードすると、設定した数・位置・大きさで炎が表示されます。
   例として TexFire_モデル組込例.fxm を同梱してあるのでXファイル作成の参考にしてください。


・使用時の注意点
(1)仕様上、真上・真下からのカメラアングルには弱いです。
(2)FPSの違いで炎の状態が変化してしまいます。出力FPSを先に設定してからTexFire_MMM.fxmのパラメータ調整した方が良いです。

※このエフェクトはMME仕様のエフェクトをMikuMikuMoving向けに改変したものです。
ここではUIアノテーションの追加や動的パースの対応などMMM専用エフェクトとして最適化しています。


・更新履歴
v0.0.2  2013/6/25   テクスチャアニメーションのフレーム更新方法を修正
                    MikuMikuMoving版の追加
v0.0.1  2011/9/12   初回版公開


・免責事項
ご利用・改変・二次配布は自由にやっていただいてかまいません。連絡も不要です。
ただしこれらの行為は全て自己責任でやってください。
このプログラム使用により、いかなる損害が生じた場合でも当方は一切の責任を負いません。


by 針金P
Twitter : @HariganeP


