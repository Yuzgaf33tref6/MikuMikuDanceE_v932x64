MikuMikuMoving対応版

ActiveParticleObj_MMM.fxm ver0.0.6

オブジェクトが移動に応じて粒子化した複製モデルを放出します．
オブジェクトの移動量に応じて放出される粒子の数と放出位置が調整されるので,オブジェクトを
どのように動かしてもまんべんなく粒子が広がります．
ActiveParticleを元に既存のモデルを粒子オブジェクトとして扱えるようにしました。


・使用方法
(1)ActiveParticleObj_MMM.fxm,Particle_Object_MMM.fxmをMMMにロードしてください．
   同じ名前のエフェクトファイルを複数ロードすると正常に動作しなくなるので注意してください。
   複数の粒子オブジェクトを用いたい場合はファイル名に連番の付いた別xファイルをロードする必要があります。
   (デフォルトでは0〜3を用意,新たに増やしたい場合はx,fxmファイルを新しい連番でコピーしてfxmの先頭パラメータの所定箇所も更新)
(2)粒子化するモデルにParticle_Object.fxmを適用してください．
    複数の粒子オブジェクトを用いる場合はファイル名の対応する連番fxmファイルを適用する必要があります．
(3)ActiveParticleObj_MMM.xを動かすと,動きに合わせて粒子が描画されます．
   ※注：粒子化するモデルはボーンに付けないで下さい、正常に描画出来なくなります．
(4)必要に応じてfxmファイルの先頭パラメータを変更してください．
(5)MMMのエフェクトプロパティで以下の変更が可能です。
    拡大    ：粒子の放出量
    アルファ：粒子の透過度
    その他UIアノテーションより追加したパラメータ変更が可能です。


・背景移動演出時の利用方法ついて
オブジェクトの動きを表現する場合、直接オブジェクトを動かす以外に、背景の方を移動させてオブジェクトが
動いているように見せるような演出がよく使われます。
同梱のBackgroundControl.xを用いるとオブジェクトを動かさなくても、背景の動きに連動して粒子を放出させることが出来ます。
(1)OptionフォルダにあるBackgroundControl.xをMMMにロードしてください。アクセ自体は表示されません。
(2)BackgroundControl.xの描画順を必ずActiveParticleObj_MMM.fxmよりも前になるようにして下さい。
(3)BackgroundControl.xを背景モデルを移動させるボーンに共に付けてください。
(4)このボーンを動かすと粒子の動きはボーンの位置・角度を基準にした座標系に切り替わり、
   オブジェクトとの相対的な位置関係でオブジェクトの移動量を計算して粒子を放出します。


・時間コントロールの方法ついて
同梱のTimeControl.xを用いると粒子の運動に対する時間の流れを遅くしたり、停止させたりできます。
スローモーションの演出や、静止画の出力などに便利です。
(1)OptionフォルダにあるTimeControl.xをMMMにロードしてください。アクセ自体は表示されません。
(2)TimeControl.xの描画順を必ずActiveParticleObj_MMM.fxmよりも前になるようにして下さい。
(3)TimeControl.xのアクセサリパラメータで以下の変更が可能です。
    拡大    ：0.01以下にするとフレームを移動させた時だけ時間が流れます。静止画出力の時にご利用下さい。
    アルファ：時間の進行度、0にすると停止します。
  ※モニターより大きいサイズでの出力はうまく行かない場合があります。


・AutoLuminous対応モデルについて
オプションとしてAutoLuminous(そぼろ氏作)用のセレクタを作成しましたのでAL_Optionフォルダにある
対応するセレクタファイルを粒子化モデルに適用してください．
・AutoLuminous対応モデルの場合：AL_Object_ParticleObj_MMM.fxmをロードしてからAL_EmitterRTから粒子化モデルを指定して、AL_Object_ParticleObj_MMM.fxmを割り当てる．
・ObjectLuminous方式の場合：OL_Selector_ParticleObj_MMM.fxmをロードしてからAL_EmitterRTから粒子化モデルを指定して、OL_Selector_ParticleObj_MMM.fxmを割り当てる．
(詳しい使用方法はAutoLuminous,ObjectLuminousのReadme.txt参照)．
これらの発光エフェクトと併用する場合は、粒子化モデルの描画順序をActiveParticleObj_MMM.xよりも前に設定してください．でないと正常に描画出来なくなります．



・注意点
一度に描画される粒子の数は最大で4096です．これ以上の粒子を発生させるような状況になると
発生中の粒子が消失するまで新たな粒子を放出しなくなります．

粒子化するモデルはデータサイズの小さいものを使ってください。モデルによっては劇重になります。
Particle_Object_MMM.fxmの先頭パラメータで指定した複製数が実際に描画される粒子の数になります(最大で4096まで)。

※このエフェクトはMME仕様のエフェクトをMikuMikuMoving向けに改変したものです。
UIアノテーションの追加や動的パースの対応などMMM専用エフェクトとして最適化しています。


・更新履歴
v0.0.6  2014/5/20   BackgroundControl.x追加、背景を移動させてオブジェクトが動いているように見せる演出でも使えるようにした
                    時間コントロールの制御アクセTimeControl.x追加
                    内部コードの整理
v0.0.5  2013/6/20 　MikuMikuMoving版の作成


・免責事項
ご利用・改変・二次配布は自由にやっていただいてかまいません。連絡も不要です。
ただしこれらの行為は全て自己責任でやってください。
このプログラム使用により、いかなる損害が生じた場合でも当方は一切の責任を負いません。


by 針金P
Twitter : @HariganeP

